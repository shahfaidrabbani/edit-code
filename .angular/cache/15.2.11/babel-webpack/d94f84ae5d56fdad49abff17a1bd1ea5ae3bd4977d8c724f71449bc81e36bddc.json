{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/code-editor.service\";\nexport let ResultComponent = /*#__PURE__*/(() => {\n  class ResultComponent {\n    constructor(codeEditorService) {\n      this.codeEditorService = codeEditorService;\n      this.src = '';\n      this.subscriptions = [];\n    }\n    ngOnInit() {\n      // Subscribe to all code changes\n      this.subscriptions.push(this.codeEditorService.html$.subscribe(() => this.updateSrc()), this.codeEditorService.css$.subscribe(() => this.updateSrc()), this.codeEditorService.js$.subscribe(() => this.updateSrc()));\n    }\n    ngOnDestroy() {\n      this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n    updateSrc() {\n      const html = this.codeEditorService.getHtml();\n      const css = this.codeEditorService.getCss();\n      const js = this.codeEditorService.getJs();\n      this.src = `\n      <html>\n        <body>${html}</body>\n        <style>${css}</style>\n        <script>${js}</script>\n      </html>\n    `;\n    }\n    get hasContent() {\n      return !!(this.codeEditorService.getHtml() || this.codeEditorService.getCss() || this.codeEditorService.getJs());\n    }\n  }\n  ResultComponent.ɵfac = function ResultComponent_Factory(t) {\n    return new (t || ResultComponent)(i0.ɵɵdirectiveInject(i1.CodeEditorService));\n  };\n  ResultComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ResultComponent,\n    selectors: [[\"app-result\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[1, \"container\"], [\"title\", \"output\", \"sandbox\", \"allow-scripts\", \"width\", \"100%\", \"height\", \"100%\", 3, \"srcdoc\"]],\n    template: function ResultComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"iframe\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"background\", ctx.hasContent ? \"transparent\" : \"white\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"srcdoc\", ctx.src, i0.ɵɵsanitizeHtml);\n      }\n    },\n    styles: [\".container[_ngcontent-%COMP%]{height:41vh}iframe[_ngcontent-%COMP%]{border:none;width:100%;height:100%}\"]\n  });\n  return ResultComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}